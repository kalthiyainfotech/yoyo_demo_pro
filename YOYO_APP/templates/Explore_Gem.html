{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Gem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static "css/Yoyo.css" %}">
    <style>
        :root {
            --bg-main: #ffffff;
            --bg-hover: #f0f4f9;
            --text-main: #1f1f1f;
            --text-muted: #5f6368;
            --scroll-track: #f0f4f9;
            --scroll-thumb: #d5d9dc;
            --scroll-thumb-hover: #adb3b8;
            --tooltip-bg: #5f6368;
            --tooltip-text: #ffffff;
            --border-color: #dadce0;
            --sidebar-bg: #f0f4f9;
            --sidebar-text: #575b5f;
            --sidebar-hover: #e1e4ea;
            --dropdown-bg: #f0f4f9;
            --dropdown-border: #dadce0;
            --dropdown-text: #1f1f1f;
            --dropdown-hover: #dfe3e7;
            --input-bg: #ffffff;
            --input-border-focus: #4285f4;
            --user-bubble-bg: #e8f0fe;
            --user-bubble-text: #1f1f1f;
            --gemini-bubble-bg: transparent;
            --gemini-bubble-text: #1f1f1f;
            --accent-blue: #4285f4;
            --accent-green: #34a853;
            --card-bg: #F0F4F9;
            --card-hover-bg: #e2e8f0;
            --experiment-tag-bg: #ffffff;
            --experiment-tag-border: #000000;
            --experiment-tag-text: #000000;
            --your-gems-bg: #F0F4F9;
            --your-gems-text: #1b1c1d;
            --new-gem-btn-bg: #0b57d0;
            --new-gem-btn-hover-bg: #1a73e8;
            --new-gem-btn-text: white;
            --copydropdown-bg: black;
            --icon-bg: #ffcbda;
            --icon-color: #9e4f6d;
        }

        body.dark {
            --bg-main: #1b1c1d;
            --bg-hover: #2e2e2e;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --scroll-track: #3a3a3a;
            --scroll-thumb: #555555;
            --scroll-thumb-hover: #777777;
            --tooltip-bg: #a0a0a0;
            --tooltip-text: #1f1f1f;
            --border-color: #444444;
            --sidebar-bg: #2e2e2e;
            --sidebar-text: #a0a0a0;
            --sidebar-hover: #3a3a3a;
            --dropdown-bg: #2e2e2e;
            --dropdown-border: #444444;
            --dropdown-text: #e0e0e0;
            --dropdown-hover: #3b3d3f;
            --input-bg: #2e2e2e;
            --input-border-focus: #7da5ff;
            --user-bubble-bg: #3a3a3a;
            --user-bubble-text: #e0e0e0;
            --gemini-bubble-bg: transparent;
            --gemini-bubble-text: #e0e0e0;
            --accent-blue: #7da5ff;
            --accent-green: #6dc37e;
            --card-bg: #282a2c;
            --card-hover-bg: #3a3a3a;
            --experiment-tag-bg: #3a3a3a;
            --experiment-tag-border: #777777;
            --experiment-tag-text: #e0e0e0;
            --your-gems-bg: #282a2c;
            --your-gems-text: #e0e0e0;
            --new-gem-btn-bg: #a8c7fa;
            --new-gem-btn-hover-bg: #809ee0;
            --new-gem-btn-text: #062e6f;
            --copydropdown-bg: #e3e3e3;
            --icon-bg: #5a3c4f;
            --icon-color: #ffb8d9;
        }

        :root {
            --bg-main: #FFFFFF;
            --bg-hover: #E2E7EB;
            --text-main: #1F1F1F;
            --text-muted: #5F6368;
            --scroll-track: #F0F4F9;
            --scroll-thumb: #D5D9DC;
            --scroll-thumb-hover: #ADB3B8;
            --tooltip-bg: #5F6368;
            --tooltip-text: #FFFFFF;
            --border-color: #DADCE0;
            --sidebar-bg: #f0f4f9;
            --sidebar-text: #575b5f;
            --sidebar-hover: #e1e4ea;
            --dropdown-bg: #f0f4f9;
            --dropdown-border: #DADCE0;
            --dropdown-text: #1F1F1F;
            --input-bg: #FFFFFF;
            --input-border-focus: #4285F4;
            --user-bubble-bg: #E8F0FE;
            --user-bubble-text: #1F1F1F;
            --gemini-bubble-bg: transparent;
            --gemini-bubble-text: #1F1F1F;
            --accent-blue: #4285F4;
            --accent-green: #34A853;

        }

        body.dark {
            --bg-main: #1b1c1d;
            --bg-hover: #2b2d2e;
            --text-main: #E8EAED;
            --text-muted: #9AA0A6;
            --scroll-track: #1e293b;
            --scroll-thumb: #4a5568;
            --scroll-thumb-hover: #64748b;
            --tooltip-bg: #282a2c;
            --tooltip-text: #E8EAED;
            --border-color: #4a5050;
            --sidebar-bg: #282a2c;
            --sidebar-text: #a2a9b0;
            --sidebar-hover: #303134;
            --dropdown-bg: #282a2c;
            --dropdown2-bg: #1b1c1d;
            --dropdown-border: #3c4043;
            --dropdown-text: #E8EAED;
            --input-border-focus: #8AB4F8;
            --user-bubble-bg: #333537;
            --user-bubble-text: #E8EAED;
            --gemini-bubble-bg: transparent;
            --gemini-bubble-text: #E8EAED;
            --accent-blue: #8AB4F8;
            --accent-green: #6AA56A;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        body {
            background-color: var(--bg-main);
            color: var(--text-main);
        }

        .bg-\[\#F0F4F9\] {
            background-color: var(--card-bg);
        }

        .hover\:bg-\[\#e2e8f0\]:hover {
            background-color: var(--card-hover-bg);
        }

        .text-\[var\(--text-muted\)\] {
            color: var(--text-muted);
        }

        .bg-white {
            background-color: var(--experiment-tag-bg);
        }

        .border-black {
            border-color: var(--experiment-tag-border);
        }

        .text-black {
            color: var(--experiment-tag-text);
        }

        .text-white {
            color: var(--new-gem-btn-text);
        }

        .your-gems-message {
            color: var(--your-gems-text) !important;
        }

        .bg-\[var\(--bg-hover\)\] {
            background-color: var(--your-gems-bg);
        }

        svg[fill="#575b5f"] {
            fill: var(--text-muted);
        }

        svg[fill="#1b1c1d"] {
            fill: var(--text-main);
        }

        .copy-menu {
            position: relative;
            display: inline-block;
        }

        .copy-menu-content {
            position: absolute;
            bottom: 0;
            right: 25px;
            background-color: var(--copydropdown-bg);
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 99;
            display: none;
            font-size: 13px;
            color: var(--tooltip-text);
        }

        .copy-menu:hover .copy-menu-content {
            display: block;
        }

        .copy-menu-item {
            padding: 4px 8px;
            cursor: pointer;
            white-space: nowrap;
            color: var(--bg-main);
        }
    </style>
</head>

<body>

    <div class="w-[100%]">
        <div class="backdrop" id="backdrop"></div>

        <div class="flex w-[100%] ">
            <div class="main-content" id="main-content">
                <div class="main-scroll-area">
                    <div class="main-inner">
                        <div class="main-inner-left">
                            <button id="openBtn">â˜°</button>
                            <span class="expand">Expand menu</span>
                            <span class="collapse">Collapse menu</span>
                        </div>

                        <div class="main-inner-right">
                            <a href="{% url "Search_yoyo" %}" class="flex items-center justify-center" id="search-icon"> <span
                                    class="material-icons">search</span> </a>
                            <span class="search-span">Search</span>
                        </div>
                    </div>

                    <div class="drawer" id="drawer">
                        <ul class="drawer-data ">
                            <li id="new-chat-button">
                                <a href="{% url "home" %}" class="items-center flex gap-5"> <span
                                        class="material-symbols-outlined">edit_square</span>
                                    <span>New Chat</span>
                                </a>
                                <span class="new-chat">New Chat</span>
                            </li>
                            <li class="diamond">
                                <a href="{% url "Explore_Gem_yoyo" %}" class="w-[100%] items-center flex gap-5"> <span
                                        class="material-symbols-outlined">diamond </span>
                                    <span>Explore Gems</span>
                                </a>
                                <span class="expore">Explore Gems</span>
                            </li>
                        </ul>

                        <div class="recent-section">
                            <h3>Recent</h3>
                            <ul id="recent-chats">
                                {% for chat in chats %}
                                    <li onclick="window.location.href='{% url 'chat_detail' chat.id %}'" style="cursor: pointer;">
                                        {{ chat.title }}
                                    </li>
                                {% empty %}
                                    <li>No recent chats</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="setting-help" id="setting-help">
                    <ul class="drawer-data">
                        <li class="dropdown-toggle " onclick="toggleDropdown()">
                            <a class="material-symbols-outlined">settings</a>
                            <span>Setting & Help</span>
                            <span class="seting-span">Setting & Help</span>
                        </li>
                        <div class="dropdown-menu" id="dropdownMenu">
                            <ul class="pb-2">
                                <li>
                                    <a href="{% url "SavedInfo_yoyo" %}" class="w-[100%] items-center flex gap-5">
                                        <span class="material-symbols-outlined"> person </span>
                                        Saved info
                                    </a>

                                </li>
                                <li>
                                    <a href="{% url "Public_Links_yoyo" %}" class="w-[100%] items-center flex gap-5">
                                        <span class="material-symbols-outlined"> link </span>
                                        Your public links
                                    </a>
                                </li>
                                <li class="submenu flex justify-between" id="themeOptions">
                                    <div class="flex gap-[20px]">
                                        <span class="material-symbols-outlined">light_mode</span>
                                        Theme
                                    </div>
                                    <i class="fa-solid fa-caret-right pe-3 text-base"></i>
                                    <ul class="theme-options">
                                        <li data-theme="system">System</li>
                                        <li data-theme="light">Light</li>
                                        <li data-theme="dark">Dark</li>
                                    </ul>
                                </li>

                                <li id="feedback_open">
                                    <span class="material-symbols-outlined"> feedback</span>
                                    Send feedback
                                </li>
                                <li id="open_help_center">
                                    <span class="material-symbols-outlined"> quiz </span>
                                    Help
                                </li>
                            </ul>

                            <div class="location-info">
                                <div>Nana Varachha, Surat, Gujarat, India</div>
                                <div><a href="#">From your IP address</a> â€¢ <a href="#">Update location</a></div>
                            </div>
                        </div>
                    </ul>
                </div>

            </div>
            <div class="z-10 gemini-header p-2 flex items-center justify-between">
                <div class="relative ">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
                    <div class="pl-48px">
                        <h1 class="text-2xl " style="color: var(--text-main);">YOYO</h1>
                        <div class="relative">
                            <button id="model-toggle"
                                class="mt-1 rounded-full flex items-center justify-center w-[100px] h-6 font-medium text-sm "
                                style="background-color: var(--sidebar-bg); color: var(--sidebar-text);">
                                <span class="pl-2 font-semibold">2.5 Flash</span>
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                                    fill="currentColor">
                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                    <path d="M7 10l5 5 5-5H7z" />
                                </svg>
                            </button>

                            <div id="model-dropdown"
                                class="absolute left-[10%] -translate-x-1/2 top-full mt-1 w-[315px] sm:max-w-xs rounded-xl shadow-lg z-50 py-2"
                                style="background-color: var(--dropdown-bg); border-color: var(--dropdown-border); color: var(--dropdown-text);">
                                <div class="px-4 py-2 text-sm font-medium" style="color: var(--text-muted);">Choose your
                                    model</div>

                                <!-- Option 1 - Default selected -->
                                <div class="option flex justify-between items-center px-5 py-2 cursor-pointer hover:bg-[var(--dropdown-hover)] selected"
                                    style="color: var(--dropdown-text);" onclick="selectOption(this)">
                                    <div class="justify-between items-center">
                                        <span class="text-xs font-semibold">2.5 Flash</span>
                                        <div class="text-xs mt-0">Fast all-around help</div>
                                    </div>
                                    <i class="fa-regular fa-circle-check"></i>
                                </div>

                                <!-- Option 2 -->
                                <div class="option flex justify-between items-center px-5 py-2 cursor-pointer hover:bg-[var(--dropdown-hover)] selected"
                                    style="color: var(--dropdown-text);" onclick="selectOption(this)">
                                    <div class="justify-between items-center">
                                        <span class="text-xs font-semibold">2.5 Pro (preview)</span>
                                        <div class="text-xs">Reasoning, math & code</div>
                                    </div>
                                    <i class="fa-regular fa-circle-check hidden"></i>
                                </div>

                                <!-- Option 3 -->
                                <div class="option flex justify-between items-center px-5 py-2 cursor-pointer hover:bg-[var(--dropdown-hover)] selected"
                                    style="color: var(--dropdown-text);" onclick="selectOption(this)">
                                    <div class="justify-between items-center">
                                        <span class="text-xs font-semibold">Personalization (preview)</span>
                                        <div class="text-xs">Based on your Search history </div>
                                    </div>
                                    <i class="fa-regular fa-circle-check hidden"></i>
                                </div>

                                <div class="px-5 pb-3 justify-center flex items-center">
                                    <div class="cursor-pointer">
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs font-semibold"
                                                style="color: var(--dropdown-text);">Upgrade
                                                to YOYO AI
                                                Pro</span>
                                        </div>
                                        <div class="text-xs">Get our most capable models &
                                            features</div>
                                    </div>
                                    <div class="pl-5">
                                        <a href="{% url "Upgrad_yoyo" %}"
                                            class="h-9 rounded-full justify-center flex items-center text-sm  w-[100px]"
                                            style="background-color: var(--sidebar-hover); color: var(--accent-blue);">
                                            Upgrade
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex space-x-2 items-center">
                    <a href="{% url "Upgrad_yoyo" %}"
                        class="h-9 block cursor-pointer rounded-md flex items-center justify-center text-xs font-semibold px-6 mr-3"
                        style="background-color: var(--sidebar-hover);">

                        Upgrade
                    </a>
                    <div id="account"></div>
                </div>
            </div>
        </div>
        <div class="gemini-data ">
            <div class="main-chat-area">
                <div class="chat-content-wrapper" style="background-color: var(--bg-main);">
                    <div class="max-w-4xl mx-auto px-6 py-10 ">


                        <h1 class="text-3xl mb-8">Gem manager</h1>
                        <div class="justify-between mb-4 flex">
                            <h2 class="font-medium ">Premade by YOYO</h2>
                            <button id="toggleBtnExpore" class="font-medium flex items-center gap-1">
                                <span id="toggleTextExplore">Show more</span>
                                <i class="ph ph-caret-down"></i>
                            </button>
                        </div>

                        <div id="cardContainer"
                            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-2 mb-5">
                            <a href="{% url "Career_guide_yoyo" %}"
                                class="p-4 rounded-xl transition cursor-pointer bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)]">
                                <div class="flex justify-between items-center gap-2 pb-3">
                                    <div
                                        class="w-7 h-7 rounded-full justify-center items-center flex bg-[var(--icon-bg)]">
                                        <i class="ph ph-briefcase text-[var(--icon-color)] text-lg "></i>
                                    </div>
                                    <div class="copy-menu">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960"
                                            width="20px" fill="var(--text-muted)">
                                            <path
                                                d="M360-240q-29.7 0-50.85-21.15Q288-282.3 288-312v-480q0-29.7 21.15-50.85Q330.3-864 360-864h384q29.7 0 50.85 21.15Q816-821.7 816-792v480q0 29.7-21.15 50.85Q773.7-240 744-240H360Zm0-72h384v-480H360v480ZM216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-552h72v552h456v72H216Zm144-216v-480 480Z" />
                                        </svg>
                                        <div class="copy-menu-content">
                                            <div class="copy-menu-item" onclick="copyToClipboard('Make a copy')">
                                                Make a
                                                copy</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1">Career guide</h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Unlock your career potential. Get a detailed plan to refine your skills and
                                        achieve your...
                                    </p>
                                </div>
                            </a>

                            <a href="{% url "Chess_champ_yoyo" %}"
                                class="p-4 rounded-xl transition cursor-pointer bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)]">
                                <div class="flex justify-start items-center gap-2 pb-3">
                                    <div class="w-7 h-7 rounded-full justify-center items-center flex bg-[#ffd289]">
                                        <i class="ph ph-strategy text-[#7e5700] text-lg "></i>
                                    </div>
                                    <span
                                        class="ml-1 text-sm border px-2 py-0 rounded-full bg-[var(--experiment-tag-bg)] text-[var(--experiment-tag-text)] border-[var(--experiment-tag-border)]">
                                        Experiment
                                    </span>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1">Chess champ</h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Play chess with a language model. Make your first move using chess notation
                                        to
                                        start...
                                    </p>
                                </div>
                            </a>

                            <a href="{% url "brain_yoyo" %}"
                                class="p-4 rounded-xl transition cursor-pointer bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)]">
                                <div class="flex justify-between items-center gap-2 pb-3">
                                    <div class="w-7 h-7 rounded-full justify-center items-center flex bg-[#ffcfb4]">
                                        <i class="ph ph-lightbulb text-[#96490a] text-lg "></i>
                                    </div>
                                    <div class="copy-menu">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960"
                                            width="20px" fill="var(--text-muted)">
                                            <path
                                                d="M360-240q-29.7 0-50.85-21.15Q288-282.3 288-312v-480q0-29.7 21.15-50.85Q330.3-864 360-864h384q29.7 0 50.85 21.15Q816-821.7 816-792v480q0 29.7-21.15 50.85Q773.7-240 744-240H360Zm0-72h384v-480H360v480ZM216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-552h72v552h456v72H216Zm144-216v-480 480Z" />
                                        </svg>
                                        <div class="copy-menu-content">
                                            <div class="copy-menu-item" onclick="copyToClipboard('Make a copy')">
                                                Make a
                                                copy</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1"> Brainstormer </h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Find inspiration easily. Fresh ideas for parties, gifts, businesses and
                                        more.
                                    </p>
                                </div>
                            </a>

                            <a href="{% url "Coding_partner_yoyo" %}"
                                class="p-4 rounded-xl transition cursor-pointer bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)]">
                                <div class="flex justify-between items-center gap-2 pb-3">
                                    <div class="w-7 h-7 rounded-full justify-center items-center flex bg-[#92e5ff]">
                                        <i class="ph ph-code text-[#00677d] text-lg "></i>
                                    </div>
                                    <div class="copy-menu">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960"
                                            width="20px" fill="var(--text-muted)">
                                            <path
                                                d="M360-240q-29.7 0-50.85-21.15Q288-282.3 288-312v-480q0-29.7 21.15-50.85Q330.3-864 360-864h384q29.7 0 50.85 21.15Q816-821.7 816-792v480q0 29.7-21.15 50.85Q773.7-240 744-240H360Zm0-72h384v-480H360v480ZM216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-552h72v552h456v72H216Zm144-216v-480 480Z" />
                                        </svg>
                                        <div class="copy-menu-content">
                                            <div class="copy-menu-item" onclick="copyToClipboard('Make a copy')">
                                                Make a
                                                copy</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1"> Coding partner </h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Level up your coding skills. Get the help you need to build your projects
                                        and
                                        learn as yo...
                                    </p>
                                </div>
                            </a>

                            <a href="{% url "Learning_coach_yoyo" %}"
                                class="extra-card transition-all duration-300 ease-in-out overflow-hidden max-h-0 opacity-0 scale-y-90 transform origin-top bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)] cursor-pointer p-4 mb-3 rounded-xl">

                                <div class="flex justify-between items-center gap-2 pb-3">
                                    <div class="w-7 h-7 rounded-full justify-center items-center flex bg-[#bedcff]">
                                        <i class="ph ph-book-open text-[#00629e] text-lg "></i>
                                    </div>
                                    <div class="copy-menu">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960"
                                            width="20px" fill="var(--text-muted)">
                                            <path
                                                d="M360-240q-29.7 0-50.85-21.15Q288-282.3 288-312v-480q0-29.7 21.15-50.85Q330.3-864 360-864h384q29.7 0 50.85 21.15Q816-821.7 816-792v480q0 29.7-21.15 50.85Q773.7-240 744-240H360Zm0-72h384v-480H360v480ZM216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-552h72v552h456v72H216Zm144-216v-480 480Z" />
                                        </svg>
                                        <div class="copy-menu-content">
                                            <div class="copy-menu-item" onclick="copyToClipboard('Make a copy')">
                                                Make a
                                                copy</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1">Learning coach</h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Here to help you learn and practice new concepts. Tell me what you'd like to
                                        learn, and I...
                                    </p>
                                </div>
                            </a>

                            <a href="{% url "Writing_editor_yoyo" %}"
                                class="extra-card transition-all duration-300 ease-in-out overflow-hidden max-h-0 opacity-0 scale-y-90 transform origin-top bg-[var(--card-bg)] hover:bg-[var(--card-hover-bg)] cursor-pointer p-4 mb-3 rounded-xl">

                                <div class="flex justify-between items-center gap-2 pb-3">
                                    <div class="w-7 h-7 rounded-full justify-center items-center flex bg-[#f2ccff]">
                                        <i class="ph ph-pencil-circle text-[#9700d2] text-lg "></i>
                                    </div>
                                    <div class="copy-menu">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960"
                                            width="20px" fill="var(--text-muted)">
                                            <path
                                                d="M360-240q-29.7 0-50.85-21.15Q288-282.3 288-312v-480q0-29.7 21.15-50.85Q330.3-864 360-864h384q29.7 0 50.85 21.15Q816-821.7 816-792v480q0 29.7-21.15 50.85Q773.7-240 744-240H360Zm0-72h384v-480H360v480ZM216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-552h72v552h456v72H216Zm144-216v-480 480Z" />
                                        </svg>
                                        <div class="copy-menu-content">
                                            <div class="copy-menu-item" onclick="copyToClipboard('Make a copy')">
                                                Make a
                                                copy</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="overflow-hidden">
                                    <h3 class="font-semibold pb-1">Writing editor</h3>
                                    <p class="text-[13px] text-[var(--text-muted)] line-clamp-3">
                                        Elevate your writing. Get clear, constructive feedback, from grammar to
                                        structure.
                                    </p>
                                </div>
                            </a>
                        </div>

                        <div class="mb-6">
                            <div class="justify-between mb-10 flex items-center">
                                <h2 class="font-medium">Your Gems</h2>
                                <a href="{% url "NewGem_yoyo" %}"
                                    class="bg-[var(--new-gem-btn-bg)] cursor-pointer text-[var(--new-gem-btn-text)] px-4 py-2 rounded-full font-medium hover:bg-[var(--new-gem-btn-hover-bg)]">
                                    <i class="ph ph-plus-circle mr-2"></i>
                                    New Gem
                                </a>
                            </div>
                            <div id="showGems" class="flex flex-col gap-2"></div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- ---------------------------------------------- -->
    <!-- Gems Delete Modal -->
    <div id="gemDeleteModal"
        class="bg-[--form-theme] pt-5 lg:w-[30%] md:w-[60%] sm:w-[80%] w-[90%] px-8 pb-6 rounded-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 fixed hidden z-50 rounded-2xl shadow-lg">
        <h3 class="text-[--text-main] text-2xl mb-9 ">Delete Gem?</h3>
        <p class="text-[--text-muted] text-[14px]">Deleting this Gem will only delete the template you created,
            including any knowledge files uploaded to the Gem. Chats and public links associated with this Gem will
            remain. If you want to delete chats, you can do that in your list of chats in Recent or in your YOYO Apps
            Activity. If you want to delete public links, you can do that in your public links page in YOYO
            Settings.</p>
        <div class="flex justify-end mt-8">
            <button id="cancel-delete-gem"
                class="text-[--input-border-focus] text-md hover:bg-[--examples-btn-hover] py-2 px-3 rounded-3xl font-semibold">Cancel</button>
            <button id="confirm-delete-gem"
                class="text-[--input-border-focus] text-md hover:bg-[--examples-btn-hover] py-2 px-3 rounded-3xl font-semibold">Delete</button>
        </div>
    </div>
    <!-- ---------------------------------------------- -->

    <!------------------------------------------------->
    <!-- Help Center -->
    <div id="help_Data"
        class="flex flex-col hidden  justify-start fixed top-[100px] rounded-2xl right-[10px] bg-[--bg-main] shadow-[0_1px_3px_0_rgba(60,64,67,0.3),_0_4px_8px_3px_rgba(60,64,67,0.15)]  lg:w-[23%] md:w-[40%] sm:w-[50%] w-[90%] h-[70vh] overflow-y-auto">

        <!-- Sticky Header -->
        <div class="sticky top-0 left-0 py-3 pb-8 w-full flex items-center justify-between bg-[--bg-main] z-10">
            <p class="text-2xl text-[--text-main] text-center w-full">Help</p>
            <button id="help_close" class="absolute right-4 top-3">
                <i class="fa-solid fa-xmark text-2xl text-[--text-main]"></i>
            </button>
        </div>

        <!-- Scrollable Content -->
        <div class="text-[--text-main] space-y-3 pb-4 text-left">
            <h6 class="text-[16px] text-[--text-main] ps-4">Popular help resources</h6>


            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover]  flex justify-center items-center ">
                    <i class="fa-regular fa-file-lines text-[--add-btn]"></i>
                </div>
                <span class="text-[16px] text-[--text-main]">Manage & delete your YOYO Apps activity</span>
            </div>
            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                    <i class="fa-regular fa-file-lines text-[--add-btn]"></i>
                </div>
                <span class="text-[16px] text-[--text-main]">Use YOYO Apps</span>
            </div>
            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                    <i class="fa-regular fa-file-lines text-[--add-btn]"></i>
                </div>
                <span class="text-[16px] text-[--text-main]">Use & manage apps in YOYO</span>
            </div>
            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                    <i class="fa-regular fa-file-lines text-[--add-btn]"></i>
                </div>
                <span class="text-[16px] text-[--text-main]">Find & manage your recent chats in YOYO Apps</span>
            </div>
            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                    <i class="fa-regular fa-file-lines text-[--add-btn]"></i>
                </div>
                <span class="text-[16px] text-[--text-main]">Where you can use the YOYO web app</span>
            </div>


            <a href="" class="text-[14px] text-[--add-btn] w-full block hover:bg-[--bg-hover] py-4 px-10">Visit help
                forum <i class="fa-solid fa-arrow-up-right-from-square"></i></a>

            <div class="bg-[--dropdown-hover] py-3 mx-5 rounded-full flex items-center px-5 cursor-pointer">
                <i class="fa-solid fa-magnifying-glass me-3"></i>
                <input type="search" class="w-full bg-transparent outline-none border-0 cursor-pointer">
            </div>

            <div class="py-4 border-t-[8px] border-b-[8px] border-[--border-color]-500">
                <p class="text-[--text-main] ps-4">Need more help?</p>
                <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 mt-3  cursor-pointer">
                    <div
                        class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                        <i class="fa-solid fa-message text-[--add-btn]"></i>
                    </div>
                    <div>
                        <p class="text-[--text-main] text-[16px]">Ask the Help Community</p>
                        <span class="text-[--text-muted] text-[16px]">Get answers from community experts</span>
                    </div>
                </div>

            </div>

            <div class="flex items-center gap-3 hover:bg-[--dropdown-hover] py-2 px-4 mt-3  cursor-pointer">
                <div
                    class="w-[40px] h-[40px] min-h-[40px] min-w-[40px] rounded-full bg-[--examples-btn-hover] flex justify-center items-center">
                    <i class="fa-solid fa-circle-exclamation text-[--add-btn]"></i>
                </div>
                <p class="text-[16px] text-[--add-btn] font-medium">Report a problem</p>
            </div>
        </div>
    </div>
    <!-- *****help js***** -->
    <script>
        const help_Data = document.getElementById('help_Data');
        const help_close = document.getElementById('help_close');
        const open_help_center = document.getElementById('open_help_center');



        open_help_center.addEventListener('click', () =>
            help_Data.classList.remove('hidden')
        );
        help_close.addEventListener('click', () =>
            help_Data.classList.add('hidden')
        );
    </script>
    <!---------------------------------------------->
    <!---------------------------------------------->
    <!-- ************Feedback********* -->

    <div id="feedback-data"
        class="flex z-50 flex-col hidden justify-between fixed top-0 right-0 rounded-l-2xl bg-[#1F1F1F] shadow-[0_1px_3px_0_rgba(60,64,67,0.3),_0_4px_8px_3px_rgba(60,64,67,0.15)] lg:w-[28%] md:w-[40%] sm:w-[50%] w-[90%] h-[100vh] overflow-hidden">

        <!-- Sticky Header -->
        <div
            class="sticky top-0 left-0 py-5 px-4 w-full flex items-center justify-between bg-[#1F1F1F] shadow-[0_1px_4px_rgba(0,0,0,0.6)] z-10">
            <p class="text-lg text-white w-full">Send feedback to YOYO</p>
            <button id="feedback_close"
                class="absolute right-4 w-[50px] h-[50px] rounded-full top-3 hover:bg-[#303134]">
                <i class="fa-solid fa-xmark text-2xl text-white"></i>
            </button>
        </div>

        <!-- Scrollable Content + Bottom -->
        <div class="flex flex-col justify-between h-full overflow-y-auto">
            <div class="space-y-3 text-white p-4 text-left">
                <h6 class="text-[14px]">Describe your feedback (required)</h6>

                <textarea name="feedback_message" id="feedback_message"
                    placeholder="Tell us what prompted this feedback..." rows="4"
                    class="w-full bg-transparent border rounded p-2 outline-none focus:ring-2 focus:ring-[#8AB4F8] focus:border-0 text-[16px] text-white"></textarea>


                <span class="text-[12px]">Please donâ€™t include any sensitive information <i
                        class="fa-regular fa-circle-question"></i></span>

                <p class="text-[16px]">A screenshot will help us better understand your feedback.</p>

                <div
                    class="w-full border text-center text-[#7cacf8] rounded-md py-2 hover:border-[#7cacf8] hover:bg-[#2A3039] cursor-pointer">
                    <p class="text-[15px]"><i class="fa-solid fa-desktop"></i> Capture screenshot</p>
                </div>
            </div>

            <!-- Fixed Bottom Section -->
            <div class="mt-auto  bg-[#1F1F1F] ">
                <div class="flex items-center gap-2 mb-4 px-4">
                    <input type="checkbox" name="checkbox" id="checkbox"
                        class="w-5 h-5 bg-[#1F1F1F] accent-[#7CACF8] cursor-pointer border rounded" />
                    <label for="checkbox" class="text-white cursor-pointer">
                        We may email you for more information or updates
                    </label>
                </div>

                <p class="text-[14px] text-white mb-4 px-4">
                    Some account and system information may be sent to YOYO. We will use it to fix problems and
                    improve
                    our services, subject to our Privacy Policy and Terms of Service. We may email you for more
                    information
                    or updates. Go to Legal Help to ask for content changes for legal reasons.
                </p>

                <div class="text-end shadow-[0_-4px_6px_rgba(0,0,0,0.15)] mt-2 p-4">
                    <button id="sendBtn" disabled class="bg-[#373737] py-2 px-6 rounded-lg text-white text-[16px]">
                        Send
                    </button>

                </div>
            </div>
        </div>
    </div>

    <!-- feedback js -->
    <script>
        const feedback_message = document.getElementById("feedback_message");
        const sendBtn = document.getElementById("sendBtn");
        const feedback_close = document.getElementById("feedback_close");
        const feedback_open = document.getElementById("feedback_open");
        const feedback_data = document.getElementById("feedback-data");

        feedback_open.addEventListener('click', () =>
            feedback_data.classList.remove('hidden')
        );
        feedback_close.addEventListener('click', () =>
            feedback_data.classList.add('hidden')
        );

        feedback_message.addEventListener("input", function () {
            if (feedback_message.value.trim().length > 0) {
                sendBtn.disabled = false;
                sendBtn.classList.remove("bg-[#373737]", "text-white");
                sendBtn.classList.add("bg-[#7CACF8]", "text-[#062E6F]");
            } else {
                sendBtn.disabled = true;
                sendBtn.classList.remove("bg-[#7CACF8]", "text-[#062E6F]");
                sendBtn.classList.add("bg-[#373737]", "text-white");
            }
        });
    </script>
    <!---------------------------------------------->


    
    <script>
        const toggleBtn = document.getElementById("toggleAccountsBtn");
        const accountList = document.getElementById("accountList");
        const toggleText = document.getElementById("toggleText");
        const iconExpand = document.getElementById("iconExpand");

        toggleBtn.addEventListener("click", () => {
            const isVisible = !accountList.classList.contains("hidden");
            accountList.classList.toggle("hidden");

            // Update text and icon
            toggleText.textContent = isVisible ? "Show more accounts" : "Hide more accounts";
            iconExpand.classList.toggle("rotate-180", !isVisible);

            // Toggle bottom radius of the button
            if (!isVisible) {
                toggleBtn.classList.remove("rounded-b-3xl");
            } else {
                toggleBtn.classList.add("rounded-b-3xl");
            }
        });

    </script>

    <script>
        const toggleBtnExpore = document.getElementById("toggleBtnExpore");
        const toggleTextExplore = document.getElementById("toggleTextExplore");
        const extraCards = document.querySelectorAll(".extra-card");
        const themeToggle = document.getElementById("themeToggle");
        const body = document.body;

        let expanded = false;



        // Toggle button for showing/hiding extra cards
        toggleBtnExpore.addEventListener("click", () => {
            expanded = !expanded;
            toggleTextExplore.textContent = expanded ? "Show less" : "Show more";

            extraCards.forEach(card => {
                if (expanded) {
                    card.classList.remove("max-h-0", "opacity-0", "scale-y-90");
                    card.classList.add("max-h-[200px]", "opacity-100", "scale-y-100");
                } else {
                    card.classList.remove("max-h-[200px]", "opacity-100", "scale-y-100");
                    card.classList.add("max-h-0", "opacity-0", "scale-y-90");
                }
            });
        });


        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                console.log('Copied: ' + text);
                // Close the menu after copying
                document.querySelectorAll('.copy-menu-content').forEach(menu => {
                    menu.style.display = 'none';
                });
            });
        }
    </script>

    <script>

        const colorPalette = [
            "#F44336",
            "#E91E63",
            "#9C27B0",
            "#3F51B5",
            "#2196F3",
            "#00BCD4",
            "#009688",
            "#4CAF50",
            "#FF9800",
            "#795548",
            "#607D8B",
            "#FF5722",
            "#673AB7"
        ];


        function getColorFromPalette(name) {
            let hash = 0;
            for (let i = 0; i < name.length; i++) {
                hash = name.charCodeAt(i) + ((hash << 5) - hash);
            }
            return colorPalette[Math.abs(hash) % colorPalette.length];
        }


        function getContrastColor(bg) {
            const hex = bg.replace("#", "");
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            return brightness > 150 ? "#000000" : "#FFFFFF";
        }

        async function fetchGemsData() {
            const showGems = document.getElementById("showGems");

            try {
                const response = await fetch('http://localhost:8080/newGems');
                const gemsdata = await response.json();

                showGems.innerHTML = "";

                if (gemsdata && gemsdata.length > 0) {
                    gemsdata.forEach((v, i) => {
                        const bgColor = getColorFromPalette(v.gemsName || "default");
                        const textColor = getContrastColor(bgColor);

                        showGems.innerHTML += `
                        <div class="rounded-xl p-4 x-gem text-[var(--text-muted)] flex justify-between items-center bg-[var(--your-gems-bg)] hover:bg-[--gems-bg-hover]">
                            <div class="flex items-center gap-4">
                                <button
                                    class="w-8 h-8 rounded-full flex items-center justify-center font-medium"
                                    style="background-color: ${bgColor}; color: ${textColor};">
                                    ${v.gemsName?.charAt(0).toUpperCase() || "U"}
                                </button>
                                <div class="flex flex-col gap-2 ">
                                    <p class="text-[12px] font-medium text-[--text-main]">${v.gemsName || "No Name"}</p>
                                    <span title="${v.gemsDescription || ''}" class="text-[12px]  text-[--text-muted] truncate overflow-hidden whitespace-nowrap w-[100px] sm:max-w-[160px] md:max-w-[200px]">
                                        ${v.gemsDescription || ""}
                                    </span>

                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button onclick=handleEditgem('${v.id}') class="hover:bg-[--model-hover] w-10 h-10 rounded-full flex items-center justify-center text-[--text-muted] font-medium">
                                    <i class="fa-solid fa-pen"></i>
                                </button>
                                <div class="relative gemx-wrapper">
                                    <button onclick="gemxToggleMenu('${v.id}')" class="hover:bg-[--model-hover] w-10 h-10 rounded-full flex items-center justify-center text-[--text-muted] font-medium gemx-menu-btn">
                                         <i class="fa-solid fa-ellipsis-vertical"></i>
                                    </button>
                                    <div id="gemx-menu-${v.id}" class="gemx-dropdown absolute right-0 bottom-full mb-2 w-56 rounded-xl shadow-xl bg-[--bg-main] text-[--text-main] hidden z-10">
                                        <ul class="py-1 text-sm">
                                            <li> <a  href="{% url "home" %}" class="flex cursor-pointer items-center gap-2 px-4 py-4 text-[16px] hover:bg-[--model-hover]"><i class="fa-regular fa-comment text-[20px]"></i> New chat </a></li>
                                            <li > <a onclick='copyGem(${JSON.stringify(v)})' class="flex cursor-pointer items-center gap-2 px-4 py-4 text-[16px] hover:bg-[--model-hover]"><i class="fa-regular fa-copy text-[20px]"></i> Make a copy </a></li>
                                            <li > <a onclick="handleDeleteGem('${v.id}')" class="flex cursor-pointer items-center gap-2 px-4 py-4 text-[16px] hover:bg-[--model-hover] "><i class="fa-regular fa-trash-can text-[20px]"></i> Delete </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    });
                } else {
                    showGems.innerHTML = `
                    <div class="rounded-xl p-6 text-center x-gem text-[var(--text-muted)] flex justify-center items-center bg-[var(--your-gems-bg)]">
                        <i class="fa-regular fa-gem text-xl text-[var(--user-bubble-text)]"></i>
                        <p class="ml-2 text-lg your-gems-message">The Gems you create will appear here</p>
                    </div>`;
                }
            } catch (err) {
                console.error("Error fetching gems:", err);
                showGems.innerHTML = `<p class="text-red-500">Error loading gems</p>`;
            }
        }

        async function handleEditgem(id) {
            const response = await fetch('http://localhost:8080/newGems');
            const gemsdata = await response.json();

            const gem = gemsdata.find((v) => v.id === id);

            localStorage.setItem('editingGem', JSON.stringify(gem));

            localStorage.removeItem('copiedGem');

            window.location.href = "{% url 'NewGem_yoyo' %}";
        }


        fetchGemsData();



        function gemxToggleMenu(id) {

            const targetMenu = document.getElementById(`gemx-menu-${id}`);

            const isVisible = !targetMenu.classList.contains("hidden");

            // Hide all other open menus

            document.querySelectorAll('.gemx-dropdown').forEach(menu => {

                menu.classList.add("hidden");

            });

            // Toggle visibility of clicked one

            if (!isVisible) {

                targetMenu.classList.remove("hidden");

            }

        }

        // Close dropdowns when clicking outside

        document.addEventListener("click", function (event) {

            const clickedInsideDropdown = event.target.closest('.gemx-dropdown');

            const clickedMenuButton = event.target.closest('.gemx-menu-btn');

            if (!clickedInsideDropdown && !clickedMenuButton) {

                document.querySelectorAll('.gemx-dropdown').forEach(menu => {

                    menu.classList.add("hidden");

                });

            }

        });



        let currentDeleteId = null;

        const handleDeleteGem = (id) => {
            currentDeleteId = id;
            const gemDeleteModal = document.getElementById('gemDeleteModal');
            if (gemDeleteModal) {
                gemDeleteModal.classList.remove('hidden');

                const confirmDeleteBtn = document.getElementById('confirm-delete-gem');
                if (confirmDeleteBtn) {

                    confirmDeleteBtn.replaceWith(confirmDeleteBtn.cloneNode(true));
                    document.getElementById('confirm-delete-gem').addEventListener('click', async () => {
                        await handleDeleteConfirmed();
                    });
                }
            }
        };


        const handleDeleteConfirmed = async () => {
            if (!currentDeleteId) return;

            try {
                const response = await fetch('http://localhost:8080/newGems/' + currentDeleteId, {
                    method: "DELETE"
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const gemDeleteModal = document.getElementById('gemDeleteModal');
                if (gemDeleteModal) {
                    gemDeleteModal.classList.add('hidden');
                }
                currentDeleteId = null;
                await Display();
            } catch (error) {
                console.error("Error deleting info:", error);

            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const cancelDeleteGem = document.getElementById('cancel-delete-gem');
            if (cancelDeleteGem) {
                cancelDeleteGem.addEventListener('click', () => {
                    gemDeleteModal.classList.add('hidden');
                });
            }
        })


        function copyGem(selectedGem) {
            const copiedGem = { ...selectedGem };
            delete copiedGem.id;

            localStorage.setItem('editingGem', JSON.stringify(copiedGem));
            localStorage.setItem('copiedGem', 'true');
            window.location.href = "{% url 'NewGem_yoyo' %}";
        }
    </script>






    <script src="{% static "JS/index.js" %}"></script>
    <!-- <script src="./JS/Gemini.js"></script> -->

</body>

</html>